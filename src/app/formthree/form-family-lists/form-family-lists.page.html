<ion-header>
  <ion-toolbar color="family">
    <ion-title class="title-smoke">แบบสัมภาษณ์พฤติกรรมการสูบบุหรี่</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row class="ion-text-center" *ngIf="detail.MEMBER">
      <ion-col size="12">
        <ion-text>
          <p>หมู่ที่ : {{MOO}}</p>
          <p>ชื่อชุมชน/บ้าน : {{VIL}}</p>
          <p>บ้านเลขที่ : {{A1}}</p>
          <h3>สมาชิกในครัวเรือนมี {{detail.MEMBER}} คน</h3>
        </ion-text>
      </ion-col>
      <ion-col size="6"></ion-col>
      <ion-col size="6">
        <a class="btn-answer-family fonts-small" (click)="updateMember()">แก้ไขจำนวนสมาชิก</a>
      </ion-col>
      <ion-col size="12" *ngIf="status == 'success'">
        <a class="btn-answer-family" routerLink="/tabs/form">หยุดชั่วคราว</a>
      </ion-col>
      <ion-col size="12" *ngIf="datafamily.length < detail.MEMBER">
        <a class="btn-answer-family active" (click)="btnStart()">เริ่มสัมภาษณ์</a>
      </ion-col>
      <ion-col size="12" *ngIf="datafamily.length == detail.MEMBER">
        <a class="btn-answer-family active" (click)="btnApprove()">บันทึกข้อมูล</a>
      </ion-col>
      <!-- <ion-col size="12">
        <a class="btn-answer-family" href="/formthree/form4">ทำคนถัดไป</a>
      </ion-col> -->
      <ion-col size="12">
        <ion-list lines="full">
          <ion-item color="secondary" class="list-member" *ngFor="let data of datafamily,let i = index">
            <ion-icon name="person-circle-outline" slot="start"></ion-icon>
            <ion-label>{{data.NAME}}</ion-label>
            <ion-icon *ngIf="data.status == 'success'" name="bag-check" color="dark" slot="end"></ion-icon>
            <ion-icon *ngIf="data.status !== 'success'" name="pencil-outline" color="dark" slot="end" (click)="continue(i,data.NAME)"></ion-icon>
            <ion-icon name="trash-sharp" color="dark" slot="end" (click)="btnDelete(i,data.NAME)"></ion-icon>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="!detail.MEMBER">
      <ion-col size="12" class="ion-text-center">
        <ion-text color="danger">
          <h3>ไม่มีข้อมูล</h3>
          <ion-button shape="round" expand="block" color="dark" routerLink="/tabs/form">กลับไปแบบสอบถาม</ion-button>
        </ion-text>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
